<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <!-- Mapbox CSS -->
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.8.1/mapbox-gl.js"></script>
    <link
      href="https://api.mapbox.com/mapbox-gl-js/v2.8.1/mapbox-gl.css"
      rel="stylesheet"
    />
    <!-- MapLibre core CSS-->
    <script src="https://unpkg.com/maplibre-gl@2.1.9/dist/maplibre-gl.js"></script>
    <link
      href="https://unpkg.com/maplibre-gl@2.1.9/dist/maplibre-gl.css"
      rel="stylesheet"
    />
    <!-- Bootstrap core CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="css/styles.css" />

    <style>
      html,
      body,
      #map {
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
        font-family: Arial, Helvetica, sans-serif;
        font-size: 14px;
        color: #323232;
      }

      #basemaps-wrapper {
        position: relative;
        top: 0px;
        left: 0px;
        background: rgba(255, 255, 255, 0);
      }
      #basemaps {
        font-size: 16px;
        padding: 4px 8px;
      }
      #menu {
        position: absolute;
        background: #efefef;
        padding: 1px;
        top: 0;
        left: 0;
        width: fit-content;
      }
      .layer-switch {
        position: absolute;
        background: #efefef;
        padding: 1px;
      }
    </style>
  </head>

  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-8 p-0 mb-2 vh-100 bg-dark text-white">
          <div id="map"></div>

          <div id="menu" class="fixed-top">
            <div class="btn-group" role="group" aria-label="Basic example">
              <button type="button" class="btn btn-outline-secondary">
                Open
              </button>
              <button type="button" class="btn btn-outline-secondary">
                Save
              </button>
              <button type="button" class="btn btn-outline-secondary">
                New
              </button>
              <button type="button" class="btn btn-outline-secondary">
                Share
              </button>
              <button type="button" class="btn btn-outline-secondary">
                Meta
              </button>
              <div id="basemaps-wrapper">
                <select id="basemaps" class="form-select">
                  <option value="ArcGIS:Streets">Streets</option>
                  <option value="ArcGIS:Navigation">Navigation</option>
                  <option value="ArcGIS:Topographic">Topographic</option>
                  <option value="ArcGIS:LightGray">Light Gray</option>
                  <option value="ArcGIS:DarkGray">Dark gray</option>
                  <option value="ArcGIS:StreetsRelief">Streets Relief</option>
                  <option value="ArcGIS:Imagery:Standard">Imagery</option>
                  <option value="ArcGIS:ChartedTerritory">
                    ChartedTerritory
                  </option>
                  <option value="ArcGIS:ColoredPencil">ColoredPencil</option>
                  <option value="ArcGIS:Nova">Nova</option>
                  <option selected value="ArcGIS:Midcentury">Midcentury</option>
                  <option value="OSM:Standard">OSM</option>
                  <option value="OSM:Streets">OSM:Streets</option>
                </select>
              </div>
            </div>
          </div>
        </div>
        <div class="col-4 p-3 mb-2 vh-100 bg-light">
          <header class="d-flex">
            <ul class="nav nav-tabs small" role="tablist">
              <li class="nav-item">
                <a
                  href="tab1"
                  class="nav-link active"
                  aria-current="page"
                  data-toggle="tab"
                  role="tab"
                  >JSON</a
                >
              </li>
              <li class="nav-item">
                <a href="tab2" class="nav-link" data-toggle="tab" role="tab"
                  >Table</a
                >
              </li>
              <li class="nav-item">
                <a href="tab3" class="nav-link" data-toggle="tab" role="tab"
                  >Help</a
                >
              </li>
            </ul>
          </header>
          <div class="tab-content py-3">
            <div class="tab-pane active" id="tab1" role="tabpanel"></div>
            <div class="tab-pane active" id="tab2" role="tabpanel"></div>
            <div class="tab-pane active" id="tab3" role="tabpanel"></div>
          </div>
        </div>
      </div>
    </div>

    <script
      async
      src="https://ga.jspm.io/npm:es-module-shims@1.5.5/dist/es-module-shims.js"
    ></script>
    <script type="importmap">
      {
        "imports": {
          "@popperjs/core": "https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.2/dist/esm/popper.js",
          "bootstrap": "https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.esm.min.js"
        }
      }
    </script>
    <script type="module">
      import * as bootstrap from "bootstrap";
      document
        .querySelectorAll('[data-bs-toggle="popover"]')
        .forEach((popover) => {
          new bootstrap.Popover(popover);
        });
    </script>

    <!-- Draw the map -->
    <script type="module">
      import { drawMap, drawMapLibre } from "./resources/js/mapping.js";
      drawMapLibre({ lonlat: [-76.4377, 38.2797], startZoom: 5 });
    </script>
  </body>
</html>
